import type { DataId } from './Project.js';
export type DataValueDef<Type extends string, RuntimeType> = {
    type: Type;
    value: RuntimeType;
};
export type StringDataValue = DataValueDef<'string', string>;
export type NumberDataValue = DataValueDef<'number', number>;
export type BoolDataValue = DataValueDef<'boolean', boolean>;
export type SystemChatMessage = {
    type: 'system';
    message: ChatMessageMessagePart | ChatMessageMessagePart[];
};
export type UserChatMessage = {
    type: 'user';
    message: ChatMessageMessagePart | ChatMessageMessagePart[];
};
export type AssistantChatMessage = {
    type: 'assistant';
    message: ChatMessageMessagePart | ChatMessageMessagePart[];
    function_call: {
        id: string | undefined;
        name: string;
        arguments: string;
    } | undefined;
};
export type FunctionResponseChatMessage = {
    type: 'function';
    message: ChatMessageMessagePart | ChatMessageMessagePart[];
    name: string;
};
export type ChatMessage = SystemChatMessage | UserChatMessage | AssistantChatMessage | FunctionResponseChatMessage;
export type ChatMessageMessagePart = string | {
    type: 'image';
    mediaType: SupportedMediaTypes;
    data: Uint8Array;
} | {
    type: 'url';
    url: string;
};
export type SupportedMediaTypes = 'image/jpeg' | 'image/png' | 'image/gif';
export type ChatMessageDataValue = DataValueDef<'chat-message', ChatMessage>;
export type DateDataValue = DataValueDef<'date', string>;
export type TimeDataValue = DataValueDef<'time', string>;
export type DateTimeDataValue = DataValueDef<'datetime', string>;
export type AnyDataValue = DataValueDef<'any', unknown>;
export type ObjectDataValue = DataValueDef<'object', Record<string, unknown>>;
export type VectorDataValue = DataValueDef<'vector', number[]>;
export type BinaryDataValue = DataValueDef<'binary', Uint8Array>;
export type ImageDataValue = DataValueDef<'image', {
    mediaType: SupportedMediaTypes;
    data: Uint8Array;
}>;
export type AudioDataValue = DataValueDef<'audio', {
    data: Uint8Array;
}>;
/** GPT function definition */
export type GptFunction = {
    name: string;
    namespace?: string;
    description: string;
    parameters: object;
};
export type GptFunctionDataValue = DataValueDef<'gpt-function', GptFunction>;
export type ControlFlowExcludedDataValue = DataValueDef<'control-flow-excluded', undefined | 'loop-not-broken'>;
export type ScalarDataValue = StringDataValue | NumberDataValue | DateDataValue | TimeDataValue | DateTimeDataValue | BoolDataValue | ChatMessageDataValue | ControlFlowExcludedDataValue | AnyDataValue | ObjectDataValue | GptFunctionDataValue | VectorDataValue | ImageDataValue | BinaryDataValue | AudioDataValue;
export type ScalarType = ScalarDataValue['type'];
export type ArrayDataValue<T extends ScalarDataValue> = DataValueDef<`${T['type']}[]`, T['value'][]>;
export type FunctionDataValue<T extends ScalarOrArrayDataValue> = DataValueDef<`fn<${T['type']}>`, () => T['value']>;
export type StringArrayDataValue = ArrayDataValue<StringDataValue>;
export type ArrayDataValues = {
    [P in ScalarDataValue['type']]: ArrayDataValue<Extract<ScalarDataValue, {
        type: P;
    }>>;
}[ScalarDataValue['type']];
export type ScalarOrArrayDataValue = ScalarDataValue | ArrayDataValues;
export type FunctionDataValues = {
    [P in ScalarOrArrayDataValue['type']]: FunctionDataValue<Extract<ScalarOrArrayDataValue, {
        type: P;
    }>>;
}[ScalarOrArrayDataValue['type']];
export type DataValue = ScalarDataValue | ArrayDataValues | FunctionDataValues;
export type DataType = DataValue['type'];
export type ScalarDataType = ScalarDataValue['type'];
export type ArrayDataType = ArrayDataValues['type'];
export type FunctionDataType = FunctionDataValues['type'];
export type ScalarOrArrayDataType = ScalarOrArrayDataValue['type'];
export type GetDataValue<Type extends DataType> = Extract<DataValue, {
    type: Type;
}>;
/** A reference to large data stored outside the graphs themselves. */
export type DataRef = {
    refId: DataId;
};
export declare const dataTypes: ["any", "any[]", "boolean", "boolean[]", "string", "string[]", "number", "number[]", "date", "date[]", "time", "time[]", "datetime", "datetime[]", "chat-message", "chat-message[]", "control-flow-excluded", "control-flow-excluded[]", "object", "object[]", "fn<string>", "fn<number>", "fn<boolean>", "fn<date>", "fn<time>", "fn<datetime>", "fn<any>", "fn<object>", "fn<chat-message>", "fn<control-flow-excluded>", "fn<string[]>", "fn<number[]>", "fn<boolean[]>", "fn<date[]>", "fn<time[]>", "fn<datetime[]>", "fn<any[]>", "fn<object[]>", "fn<chat-message[]>", "fn<control-flow-excluded[]>", "gpt-function", "gpt-function[]", "fn<gpt-function[]>", "fn<gpt-function>", "vector", "vector[]", "fn<vector>", "fn<vector[]>", "image", "image[]", "fn<image>", "fn<image[]>", "binary", "binary[]", "fn<binary>", "fn<binary[]>", "audio", "audio[]", "fn<audio>", "fn<audio[]>"];
export declare const scalarTypes: ["any", "boolean", "string", "number", "date", "time", "datetime", "chat-message", "control-flow-excluded", "object", "gpt-function", "vector", "image", "binary", "audio"];
export declare const dataTypeDisplayNames: Record<DataType, string>;
export declare function isScalarDataValue(value: DataValue | undefined): value is ScalarDataValue;
export declare function isScalarDataType(type: DataType): type is ScalarDataType;
export declare function isArrayDataValue(value: DataValue | undefined): value is ArrayDataValues;
export declare function isArrayDataType(type: DataType): type is ArrayDataType;
export declare function isFunctionDataType(type: DataType): type is FunctionDataType;
export declare function isFunctionDataValue(value: DataValue | undefined): value is FunctionDataValues;
export declare function isNotFunctionDataValue(value: DataValue | undefined): value is ScalarOrArrayDataValue;
export declare function functionTypeToScalarType(functionType: FunctionDataType): ScalarDataType;
export declare function arrayTypeToScalarType(arrayType: ArrayDataType): ScalarDataType;
export declare function getScalarTypeOf(type: DataType): ScalarDataType;
/** Unwraps a potentially function data value to a concrete value. I.e., evaluates on-demand values. */
export declare function unwrapDataValue(value: DataValue): ScalarOrArrayDataValue;
/**
 * Turns a { type: 'string[]', value: string[] } into { type: 'string', value: string }[]
 * or a { type: 'object', value: something[] } into { type: 'object', value: something }[]
 * or a { type: 'any', value: something[] } into { type: 'any', value: something }[]
 * or a { type: 'string', value: string } into [{ type: 'string', value: string }]
 */
export declare const arrayizeDataValue: (value: ScalarOrArrayDataValue) => ScalarDataValue[];
export declare const scalarDefaults: {
    [P in ScalarDataType]: Extract<ScalarDataValue, {
        type: P;
    }>['value'];
};
export declare function getDefaultValue<T extends DataType>(type: T): (DataValue & {
    type: T;
})['value'];
